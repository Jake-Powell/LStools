<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Creating simple tables â€¢ LStools</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Creating simple tables">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">LStools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Creating_simple_reports.html">Creating simple reports</a></li>
    <li><a class="dropdown-item" href="../articles/creating_simple_tables.html">Creating simple tables</a></li>
    <li><a class="dropdown-item" href="../articles/Creating-Sankey-Diagrams.html">Creating sankey diagrams</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="creating_simple_tables_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="creating_simple_tables_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="creating_simple_tables_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="creating_simple_tables_files/datatables-binding-0.33/datatables.js"></script><link href="creating_simple_tables_files/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="creating_simple_tables_files/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="creating_simple_tables_files/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="creating_simple_tables_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="creating_simple_tables_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Creating simple tables</h1>
            
      

      <div class="d-none name"><code>creating_simple_tables.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jakepowellcubg.github.io/LStools/">LStools</a></span><span class="op">)</span></span></code></pre></div>
<p><em>This vignette shows how to use the LStools package to create
composition tables of variables from educational data, whether used for
outputs or sanity checks within the SRS`</em></p>
<p>To use the function we require some raw data, where each row
corresponds to a unique student. We generate some data below where we
have columns for Free school meal (FSM) status, maths grades at KS1, KS2
and GCSE and whether the student does a-level maths (or further
maths).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">33</span><span class="op">)</span></span>
<span><span class="va">KS1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'3+'</span>,<span class="st">'2A'</span>,<span class="st">'2B'</span>, <span class="st">'2C-'</span><span class="op">)</span>, <span class="fl">10000</span>, replace <span class="op">=</span> <span class="cn">T</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.21</span>,<span class="fl">.28</span>,<span class="fl">.26</span>,<span class="fl">.25</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">KS2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'6'</span>,<span class="st">'5+'</span>, <span class="st">'5-'</span>,<span class="st">'4'</span>,<span class="st">'3-'</span><span class="op">)</span>, <span class="fl">10000</span>, replace <span class="op">=</span> <span class="cn">T</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.03</span>, <span class="fl">0.15</span>, <span class="fl">0.22</span>, <span class="fl">0.46</span>, <span class="fl">0.13</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">GCSE</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'9'</span>,<span class="st">'8'</span>, <span class="st">'7'</span>, <span class="st">'6-'</span><span class="op">)</span>, <span class="fl">10000</span>, replace <span class="op">=</span> <span class="cn">T</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.03</span>, <span class="fl">0.07</span>, <span class="fl">0.10</span>, <span class="fl">0.80</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">A_level</span> <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Maths + Further'</span>,  <span class="st">'Maths'</span>, <span class="st">'No Maths'</span><span class="op">)</span>, <span class="fl">10000</span>, replace <span class="op">=</span> <span class="cn">T</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.02</span>, <span class="fl">0.09</span>, <span class="fl">0.89</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">FSM</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Yes'</span>, <span class="st">'No'</span><span class="op">)</span>, <span class="fl">10000</span>, replace <span class="op">=</span> <span class="cn">T</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.238</span>, <span class="fl">1</span><span class="op">-</span><span class="fl">.238</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">raw</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>FSM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">FSM</span><span class="op">)</span>,</span>
<span>                 KS1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">KS1</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'3+'</span>,<span class="st">'2A'</span>,<span class="st">'2B'</span>, <span class="st">'2C-'</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 KS2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">KS2</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'6'</span>,<span class="st">'5+'</span>, <span class="st">'5-'</span>,<span class="st">'4'</span>,<span class="st">'3-'</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 GCSE<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">GCSE</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'9'</span>,<span class="st">'8'</span>, <span class="st">'7'</span>, <span class="st">'6-'</span><span class="op">)</span><span class="op">)</span>, </span>
<span>                 A_level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">A_level</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Maths + Further'</span>,  <span class="st">'Maths'</span>, <span class="st">'No Maths'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p></p>
<div class="datatables html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:auto;"></div> <script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"filter":"none","vertical":false,"data":[["No","No","No","No","No","No","No","No","No","No"],["2B","2B","2B","3+","3+","2B","2B","2B","2A","2A"],["5-","5-","4","5-","3-","3-","4","4","5+","5+"],["6-","7","6-","6-","6-","6-","6-","6-","6-","6-"],["No Maths","No Maths","No Maths","No Maths","No Maths","No Maths","No Maths","No Maths","No Maths","No Maths"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>FSM<\/th>\n      <th>KS1<\/th>\n      <th>KS2<\/th>\n      <th>GCSE<\/th>\n      <th>A_level<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"dom":"tp","paging":false,"columnDefs":[{"name":"FSM","targets":0},{"name":"KS1","targets":1},{"name":"KS2","targets":2},{"name":"GCSE","targets":3},{"name":"A_level","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><p>Note that I have factored the data in such a way that the grades are
ordered from highest to lowest for each column (where applicable), this
isnâ€™t required but will affect the ordering of values in the outputted
tables.</p>
<p>Generally, we work with pathways which is a simplified form of the
raw data consisting of only the unique combinations of values across all
columns together with the number of students who follow each set of
values.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pathways</span> <span class="op">=</span> <span class="fu">LStools</span><span class="fu">::</span><span class="fu"><a href="../reference/raw_to_pathway.html">raw_to_pathway</a></span><span class="op">(</span><span class="va">raw</span><span class="op">)</span></span></code></pre></div>
<p>The first 10 rows of pathways are shown below</p>
<p></p>
<div class="datatables html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:100%;height:auto;"></div> <script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"filter":"none","vertical":false,"data":[["No","No","No","No","No","No","No","No","No","No"],["3+","3+","3+","3+","3+","3+","3+","3+","3+","3+"],["6","6","6","6","6","5+","5+","5+","5+","5+"],["8","7","6-","6-","6-","9","8","8","8","7"],["No Maths","No Maths","Maths + Further","Maths","No Maths","No Maths","Maths + Further","Maths","No Maths","Maths + Further"],[4,6,2,1,32,3,1,1,9,2]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>FSM<\/th>\n      <th>KS1<\/th>\n      <th>KS2<\/th>\n      <th>GCSE<\/th>\n      <th>A_level<\/th>\n      <th>No_students<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"dom":"tp","paging":false,"columnDefs":[{"className":"dt-right","targets":5},{"name":"FSM","targets":0},{"name":"KS1","targets":1},{"name":"KS2","targets":2},{"name":"GCSE","targets":3},{"name":"A_level","targets":4},{"name":"No_students","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><div class="section level3">
<h3 id="composition-of-columns">Composition of columns<a class="anchor" aria-label="anchor" href="#composition-of-columns"></a>
</h3>
<p>Within LStools <code><a href="../reference/pathway_summary_columns.html">pathway_summary_columns()</a></code> provides a
useful sanity check is to look at the composition of each column within
pathways, to check if for errors potentially created during the cleaning
stage. The function creates a list of data frames for each column within
pathways detailing the number and percentage of students split by the
values in the column.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">composition_columns</span> <span class="op">=</span> <span class="va">pathways</span> <span class="op">|&gt;</span> <span class="fu">LStools</span><span class="fu">::</span><span class="fu"><a href="../reference/pathway_summary_columns.html">pathway_summary_columns</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">composition_columns</span></span>
<span><span class="co">#&gt; $FSM</span></span>
<span><span class="co">#&gt;     FSM No_students % (population)</span></span>
<span><span class="co">#&gt; 1    No        7653          76.53</span></span>
<span><span class="co">#&gt; 2   Yes        2347          23.47</span></span>
<span><span class="co">#&gt; 3 Total       10000           100%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $KS1</span></span>
<span><span class="co">#&gt;     KS1 No_students % (population)</span></span>
<span><span class="co">#&gt; 1    2A        2710           27.1</span></span>
<span><span class="co">#&gt; 2    2B        2724          27.24</span></span>
<span><span class="co">#&gt; 3   2C-        2475          24.75</span></span>
<span><span class="co">#&gt; 4    3+        2091          20.91</span></span>
<span><span class="co">#&gt; 5 Total       10000           100%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $KS2</span></span>
<span><span class="co">#&gt;     KS2 No_students % (population)</span></span>
<span><span class="co">#&gt; 1    3-        1277          12.77</span></span>
<span><span class="co">#&gt; 2     4        4650           46.5</span></span>
<span><span class="co">#&gt; 3    5-        2290           22.9</span></span>
<span><span class="co">#&gt; 4    5+        1494          14.94</span></span>
<span><span class="co">#&gt; 5     6         289           2.89</span></span>
<span><span class="co">#&gt; 6 Total       10000           100%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $GCSE</span></span>
<span><span class="co">#&gt;    GCSE No_students % (population)</span></span>
<span><span class="co">#&gt; 1    6-        7949          79.49</span></span>
<span><span class="co">#&gt; 2     7        1018          10.18</span></span>
<span><span class="co">#&gt; 3     8         748           7.48</span></span>
<span><span class="co">#&gt; 4     9         285           2.85</span></span>
<span><span class="co">#&gt; 5 Total       10000           100%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $A_level</span></span>
<span><span class="co">#&gt;           A_level No_students % (population)</span></span>
<span><span class="co">#&gt; 1           Maths         845           8.45</span></span>
<span><span class="co">#&gt; 2 Maths + Further         207           2.07</span></span>
<span><span class="co">#&gt; 3        No Maths        8948          89.48</span></span>
<span><span class="co">#&gt; 4           Total       10000           100%</span></span></code></pre></div>
<hr>
</div>
<div class="section level3">
<h3 id="composition-tables">Composition tables<a class="anchor" aria-label="anchor" href="#composition-tables"></a>
</h3>
<p>A common output from the SRS will be composition tables of stages of
the maths pipeline. For example GCSE maths grades split by demographics
of students.</p>
<p>Within LStools <code><a href="../reference/pathway_composition_tables.html">pathway_composition_tables()</a></code> can be used
to create the composition tables for multiple stages across multiple
demographic columns within pathways.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">composition_by_FSM_KS1</span> <span class="op">=</span> <span class="va">pathways</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/pathway_composition_tables.html">pathway_composition_tables</a></span><span class="op">(</span>describers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'FSM'</span>,<span class="st">'KS1'</span><span class="op">)</span>, stages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'KS2'</span>, <span class="st">'GCSE'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">composition_by_FSM_KS1</span></span>
<span><span class="co">#&gt; $KS2</span></span>
<span><span class="co">#&gt;   describer level   6   5+   5-    4  3- Total</span></span>
<span><span class="co">#&gt; 1       FSM    No 222 1161 1740 3565 965  7653</span></span>
<span><span class="co">#&gt; 2       FSM   Yes  67  333  550 1085 312  2347</span></span>
<span><span class="co">#&gt; 3       KS1    3+  58  317  460  992 264  2091</span></span>
<span><span class="co">#&gt; 4       KS1    2A  83  415  608 1242 362  2710</span></span>
<span><span class="co">#&gt; 5       KS1    2B  74  409  661 1241 339  2724</span></span>
<span><span class="co">#&gt; 6       KS1   2C-  74  353  561 1175 312  2475</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $GCSE</span></span>
<span><span class="co">#&gt;   describer level   9   8   7   6- Total</span></span>
<span><span class="co">#&gt; 1       FSM    No 212 563 764 6114  7653</span></span>
<span><span class="co">#&gt; 2       FSM   Yes  73 185 254 1835  2347</span></span>
<span><span class="co">#&gt; 3       KS1    3+  59 151 212 1669  2091</span></span>
<span><span class="co">#&gt; 4       KS1    2A  85 202 282 2141  2710</span></span>
<span><span class="co">#&gt; 5       KS1    2B  71 211 258 2184  2724</span></span>
<span><span class="co">#&gt; 6       KS1   2C-  70 184 266 1955  2475</span></span></code></pre></div>
<p>Prior to outputting from the SRS we need to apply statistical
disclosure control which can be turned on via a toggle in
<code><a href="../reference/pathway_composition_tables.html">pathway_composition_tables()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">composition_by_FSM_KS1_SDC</span> <span class="op">=</span> <span class="va">pathways</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/pathway_composition_tables.html">pathway_composition_tables</a></span><span class="op">(</span>describers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'FSM'</span>,<span class="st">'KS1'</span><span class="op">)</span>, stages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'KS2'</span>, <span class="st">'GCSE'</span><span class="op">)</span>,do_SDC <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># By default SDC is turned off (FALSE).</span></span>
<span><span class="va">composition_by_FSM_KS1_SDC</span></span>
<span><span class="co">#&gt; $KS2</span></span>
<span><span class="co">#&gt;   describer level   6   5+   5-    4  3- Total</span></span>
<span><span class="co">#&gt; 1       FSM    No 220 1160 1740 3560 960  7650</span></span>
<span><span class="co">#&gt; 2       FSM   Yes  70  330  550 1080 310  2350</span></span>
<span><span class="co">#&gt; 3       KS1    3+  60  320  460  990 260  2090</span></span>
<span><span class="co">#&gt; 4       KS1    2A  80  420  610 1240 360  2710</span></span>
<span><span class="co">#&gt; 5       KS1    2B  70  410  660 1240 340  2720</span></span>
<span><span class="co">#&gt; 6       KS1   2C-  70  350  560 1180 310  2480</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $GCSE</span></span>
<span><span class="co">#&gt;   describer level   9   8   7   6- Total</span></span>
<span><span class="co">#&gt; 1       FSM    No 210 560 760 6110  7650</span></span>
<span><span class="co">#&gt; 2       FSM   Yes  70 180 250 1840  2350</span></span>
<span><span class="co">#&gt; 3       KS1    3+  60 150 210 1670  2090</span></span>
<span><span class="co">#&gt; 4       KS1    2A  80 200 280 2140  2710</span></span>
<span><span class="co">#&gt; 5       KS1    2B  70 210 260 2180  2720</span></span>
<span><span class="co">#&gt; 6       KS1   2C-  70 180 270 1960  2480</span></span></code></pre></div>
<p>We can then save the composition table to excel ready to be checked
for output. We will use <code><a href="../reference/data_frame_to_workbook.html">data_frame_to_workbook()</a></code> to allow
each stage of the composition table to be unique sheets within an xlsx
workbook each with an individual title and source information.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/data_frame_to_workbook.html">data_frame_to_workbook</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">composition_by_FSM_KS1_SDC</span><span class="op">$</span><span class="va">KS2</span>,</span>
<span>                            sheet <span class="op">=</span> <span class="st">'KS2'</span>,</span>
<span>                            title <span class="op">=</span> <span class="st">'Composition of KS2 maths grade by FSM status and KS1 maths grade'</span>,</span>
<span>                            source <span class="op">=</span> <span class="st">'Source: National Pupil Database'</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/data_frame_to_workbook.html">data_frame_to_workbook</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">composition_by_FSM_KS1_SDC</span><span class="op">$</span><span class="va">GCSE</span>,</span>
<span>                              sheet <span class="op">=</span> <span class="st">'GCSE'</span>,</span>
<span>                              title <span class="op">=</span> <span class="st">'Composition of GCSE maths grade by FSM status and KS1 maths grade'</span>,</span>
<span>                              source <span class="op">=</span> <span class="st">'Source: National Pupil Database'</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">openxlsx</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/openxlsx/man/saveWorkbook.html" class="external-link">saveWorkbook</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">'composition.xlsx'</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="../reference/pathway_composition_tables.html">pathway_composition_tables()</a></code> can also be used across
multiple years of data allowing trends in composition to be explored.
For example if our raw data had another column for the year the student
was in year 11 (final year of secondary school)</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">33</span><span class="op">)</span></span>
<span><span class="va">KS1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'3+'</span>,<span class="st">'2A'</span>,<span class="st">'2B'</span>, <span class="st">'2C-'</span><span class="op">)</span>, <span class="fl">10000</span>, replace <span class="op">=</span> <span class="cn">T</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.21</span>,<span class="fl">.28</span>,<span class="fl">.26</span>,<span class="fl">.25</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">KS2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'6'</span>,<span class="st">'5+'</span>, <span class="st">'5-'</span>,<span class="st">'4'</span>,<span class="st">'3-'</span><span class="op">)</span>, <span class="fl">10000</span>, replace <span class="op">=</span> <span class="cn">T</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.03</span>, <span class="fl">0.15</span>, <span class="fl">0.22</span>, <span class="fl">0.46</span>, <span class="fl">0.13</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">GCSE</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'9'</span>,<span class="st">'8'</span>, <span class="st">'7'</span>, <span class="st">'6-'</span><span class="op">)</span>, <span class="fl">10000</span>, replace <span class="op">=</span> <span class="cn">T</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.03</span>, <span class="fl">0.07</span>, <span class="fl">0.10</span>, <span class="fl">0.80</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">A_level</span> <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Maths + Further'</span>,  <span class="st">'Maths'</span>, <span class="st">'No Maths'</span><span class="op">)</span>, <span class="fl">10000</span>, replace <span class="op">=</span> <span class="cn">T</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.02</span>, <span class="fl">0.09</span>, <span class="fl">0.89</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">FSM</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Yes'</span>, <span class="st">'No'</span><span class="op">)</span>, <span class="fl">10000</span>, replace <span class="op">=</span> <span class="cn">T</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.238</span>, <span class="fl">1</span><span class="op">-</span><span class="fl">.238</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">IDACI</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'1st'</span>,<span class="st">'2nd'</span>,<span class="st">'3rd'</span>, <span class="st">'4th'</span>, <span class="st">'5th'</span><span class="op">)</span>, <span class="fl">10000</span>, replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">Year</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2022'</span>,<span class="st">'2023'</span><span class="op">)</span>, <span class="fl">10000</span>, replace <span class="op">=</span> <span class="cn">T</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.45</span>, <span class="fl">.55</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">KS1</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10000</span>,<span class="fl">50</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="cn">NA</span></span>
<span><span class="va">raw_years</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">Year</span><span class="op">)</span>,</span>
<span>                 FSM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">FSM</span><span class="op">)</span>,</span>
<span>                 IDACI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">IDACI</span><span class="op">)</span>,</span>
<span>                 KS1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">KS1</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'3+'</span>,<span class="st">'2A'</span>,<span class="st">'2B'</span>, <span class="st">'2C-'</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 KS2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">KS2</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'6'</span>,<span class="st">'5+'</span>, <span class="st">'5-'</span>,<span class="st">'4'</span>,<span class="st">'3-'</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 GCSE<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">GCSE</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'9'</span>,<span class="st">'8'</span>, <span class="st">'7'</span>, <span class="st">'6-'</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 A_level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">A_level</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Maths + Further'</span>,  <span class="st">'Maths'</span>, <span class="st">'No Maths'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">pathways_years</span> <span class="op">=</span> <span class="fu">LStools</span><span class="fu">::</span><span class="fu"><a href="../reference/raw_to_pathway.html">raw_to_pathway</a></span><span class="op">(</span><span class="va">raw_years</span><span class="op">)</span></span></code></pre></div>
<p>we can use the variable <code>year_column</code> to specify the year
in <code><a href="../reference/pathway_composition_tables.html">pathway_composition_tables()</a></code> resulting in the following
composition tables being created (note that this should only be used if
the values (grades) remain the same between the years)</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">composition_by_FSM_IDACI_2022_23</span> <span class="op">=</span> <span class="va">pathways_years</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/pathway_composition_tables.html">pathway_composition_tables</a></span><span class="op">(</span>describers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'FSM'</span>,<span class="st">'IDACI'</span><span class="op">)</span>, stages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'KS2'</span>, <span class="st">'GCSE'</span><span class="op">)</span>,year_column <span class="op">=</span> <span class="st">'Year'</span><span class="op">)</span></span>
<span><span class="va">composition_by_FSM_IDACI_2022_23</span><span class="op">$</span><span class="va">KS2</span> <span class="co"># Look only at KS2 composition</span></span>
<span><span class="co">#&gt;    Year describer level   6  5+  5-    4  3- Total</span></span>
<span><span class="co">#&gt; 1  2022       FSM    No  90 524 786 1642 405  3447</span></span>
<span><span class="co">#&gt; 2  2022       FSM   Yes  33 153 237  508 151  1082</span></span>
<span><span class="co">#&gt; 3  2022     IDACI   1st  23 138 194  427 109   891</span></span>
<span><span class="co">#&gt; 4  2022     IDACI   2nd  26 130 211  442 110   919</span></span>
<span><span class="co">#&gt; 5  2022     IDACI   3rd  24 144 215  405  99   887</span></span>
<span><span class="co">#&gt; 6  2022     IDACI   4th  25 121 194  437 110   887</span></span>
<span><span class="co">#&gt; 7  2022     IDACI   5th  25 144 209  439 128   945</span></span>
<span><span class="co">#&gt; 8  2023       FSM    No 132 637 954 1923 560  4206</span></span>
<span><span class="co">#&gt; 9  2023       FSM   Yes  34 180 313  577 161  1265</span></span>
<span><span class="co">#&gt; 10 2023     IDACI   1st  42 171 253  514 156  1136</span></span>
<span><span class="co">#&gt; 11 2023     IDACI   2nd  29 152 249  506 144  1080</span></span>
<span><span class="co">#&gt; 12 2023     IDACI   3rd  31 145 259  469 164  1068</span></span>
<span><span class="co">#&gt; 13 2023     IDACI   4th  36 159 256  495 139  1085</span></span>
<span><span class="co">#&gt; 14 2023     IDACI   5th  28 190 250  516 118  1102</span></span></code></pre></div>
<p>The table can then be used to look at trends over time of the
composition of stages in the pipeline. For example in our fake dataset
has the results of FSM students changed at KS2 between 2022 and
2023?</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">required_data</span> <span class="op">=</span> <span class="va">composition_by_FSM_IDACI_2022_23</span><span class="op">$</span><span class="va">KS2</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">describer</span> <span class="op">==</span> <span class="st">'FSM'</span> <span class="op">&amp;</span> <span class="va">level</span> <span class="op">==</span> <span class="st">'Yes'</span><span class="op">)</span></span>
<span><span class="va">required_data</span><span class="op">[</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span> <span class="op">=</span> <span class="op">(</span><span class="va">required_data</span><span class="op">[</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span> <span class="op">/</span> <span class="va">required_data</span><span class="op">[</span>,<span class="fl">9</span><span class="op">]</span> <span class="op">*</span><span class="fl">100</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">required_data</span></span>
<span><span class="co">#&gt;   Year describer level    6    5+    5-     4    3- Total</span></span>
<span><span class="co">#&gt; 1 2022       FSM   Yes 3.05 14.14 21.90 46.95 13.96  1082</span></span>
<span><span class="co">#&gt; 2 2023       FSM   Yes 2.69 14.23 24.74 45.61 12.73  1265</span></span></code></pre></div>
<hr>
</div>
<div class="section level3">
<h3 id="composition-of-transitions">Composition of transitions<a class="anchor" aria-label="anchor" href="#composition-of-transitions"></a>
</h3>
<p>It might be of interest to explore the composition of students who
â€˜flowâ€™ through a particular transition of the maths pipeline, such as
those who achieve level 6 at KS2 who go on to achieve a grade 6 or worse
at GCSE.</p>
<p>Within LStools <code><a href="../reference/pathway_stage_transition_by_describer.html">pathway_stage_transition_by_describer()</a></code>
can be used to extract the demographics (or other quantiites) of
students at all transitions through the mathematics pipeline.</p>
<p>For example we can extract the FSM status of students through
transitions through KS1, KS2 and GCSE with the following code</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">transition_demographics</span> <span class="op">=</span> <span class="fu"><a href="../reference/pathway_stage_transition_by_describer.html">pathway_stage_transition_by_describer</a></span><span class="op">(</span><span class="va">pathways</span>, describers <span class="op">=</span> <span class="st">'FSM'</span>, stages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'KS1'</span>,<span class="st">'KS2'</span>, <span class="st">'GCSE'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># transition_demographics contains 40 transitions in a list, show only two.</span></span>
<span><span class="va">transition_demographics</span><span class="op">$</span><span class="va">`KS1: 3+ -&gt; KS2: 6`</span></span>
<span><span class="co">#&gt; $FSM</span></span>
<span><span class="co">#&gt;     FSM No_students % (population)</span></span>
<span><span class="co">#&gt; 1    No          45          77.59</span></span>
<span><span class="co">#&gt; 2   Yes          13          22.41</span></span>
<span><span class="co">#&gt; 3 Total          58           100%</span></span>
<span><span class="va">transition_demographics</span><span class="op">$</span><span class="va">`KS2: 5+ -&gt; GCSE: 9`</span></span>
<span><span class="co">#&gt; $FSM</span></span>
<span><span class="co">#&gt;     FSM No_students % (population)</span></span>
<span><span class="co">#&gt; 1    No          23          74.19</span></span>
<span><span class="co">#&gt; 2   Yes           8          25.81</span></span>
<span><span class="co">#&gt; 3 Total          31           100%</span></span></code></pre></div>
<p>By default the output is a list of transitions where each transition
has a list for the composition of each demographic. This format is
useful when wanting to concentrate on a single transition. To alter the
output format we can change the value of <code>return_type</code> to
â€˜compressedâ€™ which will instead return a data frame for each demographic
showing the composition of all the transitions. This format is easier to
output from the SRS.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">transition_demographics</span> <span class="op">=</span> <span class="fu"><a href="../reference/pathway_stage_transition_by_describer.html">pathway_stage_transition_by_describer</a></span><span class="op">(</span><span class="va">pathways</span>, describers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'FSM'</span>, <span class="st">'A_level'</span><span class="op">)</span>, stages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'KS1'</span>,<span class="st">'KS2'</span>, <span class="st">'GCSE'</span><span class="op">)</span>, return_type <span class="op">=</span> <span class="st">'compressed'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">transition_demographics</span>, <span class="va">head</span><span class="op">)</span></span>
<span><span class="co">#&gt; $FSM</span></span>
<span><span class="co">#&gt;           Transition FSM: No FSM: Yes FSM: Total</span></span>
<span><span class="co">#&gt; 1  KS1: 3+ -&gt; KS2: 6      45       13         58</span></span>
<span><span class="co">#&gt; 2 KS1: 3+ -&gt; KS2: 5+     253       64        317</span></span>
<span><span class="co">#&gt; 3 KS1: 3+ -&gt; KS2: 5-     345      115        460</span></span>
<span><span class="co">#&gt; 4  KS1: 3+ -&gt; KS2: 4     749      243        992</span></span>
<span><span class="co">#&gt; 5 KS1: 3+ -&gt; KS2: 3-     196       68        264</span></span>
<span><span class="co">#&gt; 6  KS1: 2A -&gt; KS2: 6      60       23         83</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $A_level</span></span>
<span><span class="co">#&gt;           Transition A_level: No Maths A_level: Maths + Further A_level: Maths</span></span>
<span><span class="co">#&gt; 1  KS1: 3+ -&gt; KS2: 6                55                        2              1</span></span>
<span><span class="co">#&gt; 2 KS1: 3+ -&gt; KS2: 5+               285                        9             23</span></span>
<span><span class="co">#&gt; 3 KS1: 3+ -&gt; KS2: 5-               400                       10             50</span></span>
<span><span class="co">#&gt; 4  KS1: 3+ -&gt; KS2: 4               891                       20             81</span></span>
<span><span class="co">#&gt; 5 KS1: 3+ -&gt; KS2: 3-               235                        5             24</span></span>
<span><span class="co">#&gt; 6  KS1: 2A -&gt; KS2: 6                67                        1             15</span></span>
<span><span class="co">#&gt;   A_level: Total</span></span>
<span><span class="co">#&gt; 1             58</span></span>
<span><span class="co">#&gt; 2            317</span></span>
<span><span class="co">#&gt; 3            460</span></span>
<span><span class="co">#&gt; 4            992</span></span>
<span><span class="co">#&gt; 5            264</span></span>
<span><span class="co">#&gt; 6             83</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/data_frame_to_workbook.html">data_frame_to_workbook</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">transition_demographics</span><span class="op">$</span><span class="va">FSM</span>,</span>
<span>                            sheet <span class="op">=</span> <span class="st">'FSM'</span>,</span>
<span>                            title <span class="op">=</span> <span class="st">'Transitions between KS1, KS2 and GCSE split by students FSM status'</span>,</span>
<span>                            source <span class="op">=</span> <span class="st">'Source: National Pupil Database'</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/data_frame_to_workbook.html">data_frame_to_workbook</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">transition_demographics</span><span class="op">$</span><span class="va">A_level</span>,</span>
<span>                              sheet <span class="op">=</span> <span class="st">'A-level'</span>,</span>
<span>                              title <span class="op">=</span> <span class="st">'Transitions between KS1, KS2 and GCSE split by students A-level mathematics choices'</span>,</span>
<span>                              source <span class="op">=</span> <span class="st">'Source: National Pupil Database'</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">openxlsx</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/openxlsx/man/saveWorkbook.html" class="external-link">saveWorkbook</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">'transition_info.xlsx'</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jake Powell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
